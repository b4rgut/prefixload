[![crates.io](https://img.shields.io/crates/v/prefixload.svg)](https://crates.io/crates/prefixload)

**üá∑üá∫ –†—É—Å—Å–∫–∏–π | [üá∫üá∏ English](README.md)**

# Prefixload

Prefixload ‚Äî —ç—Ç–æ –Ω–µ–±–æ–ª—å—à–∞—è —É—Ç–∏–ª–∏—Ç–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –Ω–∞ Rust, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –≤ –±–∞–∫–µ—Ç Amazon S3 –∏–ª–∏ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –û–Ω–∞ –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–∞–π–ª—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤.

–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, –≥–¥–µ —Ñ–∞–π–ª—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –∏ –∏–º–µ–Ω—É—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `db_backup_2025-09-21.sql`, `logs_myapp_2025-09-21.tar.gz`).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ YAML-—Ñ–∞–π–ª–µ –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ —Ñ–∞–π–ª–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ —É–¥–∞–ª—ë–Ω–Ω—ã–º–∏ –∫–∞—Ç–∞–ª–æ–≥–∞–º–∏ –≤ –≤–∞—à–µ–º S3-–±–∞–∫–µ—Ç–µ.
*   **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å S3**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å AWS S3, —Ç–∞–∫ –∏ —Å –¥—Ä—É–≥–∏–º–∏ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ MinIO, Ceph –∏–ª–∏ Wasabi.
*   **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ETag'–∏ S3 –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –±—ã–ª –ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω, –∏–∑–±–µ–≥–∞—è –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫.
*   **–ú–Ω–æ–≥–æ—Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã, –∏—Å–ø–æ–ª—å–∑—É—è –º–Ω–æ–≥–æ—Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏.
*   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: –ö–æ–º–∞–Ω–¥–∞ `login` –ø–æ–º–æ–≥–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤–∞—à–∏ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ AWS.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Prefixload –Ω–∞–ø—Ä—è–º—É—é —Å crates.io —Å –ø–æ–º–æ—â—å—é Cargo:

```sh
cargo install prefixload
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

### 1. –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

–°–Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∞—à–∏ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ AWS. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç —É –≤–∞—Å ID –∫–ª—é—á–∞ –¥–æ—Å—Ç—É–ø–∞ (Access Key ID) –∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ (Secret Access Key) –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–∞–π–ª `~/.aws/credentials`.

```sh
prefixload login
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–î–∞–ª–µ–µ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ YAML-—Ñ–∞–π–ª–µ. –ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –µ–≥–æ –≤ –≤–∞—à–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sh
prefixload config edit
```

–≠—Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç S3, –±–∞–∫–µ—Ç –∏ –ø—Ä–∞–≤–∏–ª–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤.

### 3. –ó–∞–ø—É—Å–∫ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

–ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `run`:

```sh
prefixload run
```

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –≤ "—Ç–∏—Ö–æ–º" —Ä–µ–∂–∏–º–µ, —á—Ç–æ–±—ã –ø–æ–¥–∞–≤–∏—Ç—å –≤—ã–≤–æ–¥ –∏ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –ª–æ–≥ –≤ —Ñ–∞–π–ª:
```sh
prefixload run --quiet
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –ø—É—Ç–∏ `~/.config/prefixload/config.yml` (–≤ Linux/macOS) –∏–ª–∏ `%APPDATA%\prefixload\config.yml` (–≤ Windows).

–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ `config.yml`:

```yaml
# URL-–∞–¥—Ä–µ—Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –≤–∞—à–µ–≥–æ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
endpoint: "https://s3.example.com"

# –ò–º—è –≤–∞—à–µ–≥–æ S3-–±–∞–∫–µ—Ç–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
bucket: "my-backup-bucket"

# –†–µ–≥–∏–æ–Ω AWS. –¢—Ä–µ–±—É–µ—Ç—Å—è SDK.
region: "us-east-1"

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `true` –¥–ª—è S3-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ –≤ —Å—Ç–∏–ª–µ –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, MinIO).
force_path_style: false

# –†–∞–∑–º–µ—Ä —á–∞—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –±–∞–π—Ç–∞—Ö –¥–ª—è –º–Ω–æ–≥–æ—Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 15 –ú–ë).
part_size: 15728640

# –ü—É—Ç—å –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–≥—É, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–∞—à–∏ —Ñ–∞–π–ª—ã.
local_directory_path: "/var/backups"

# –ü—Ä–∞–≤–∏–ª–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤.
directory_struct:
  # –§–∞–π–ª—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å "db_backup_", –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ –∫–∞—Ç–∞–ª–æ–≥ "database/" –≤ –±–∞–∫–µ—Ç–µ.
  - local_name_prefix: "db_backup_"
    remote_path: "database/"

  # –§–∞–π–ª—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å "app_logs_", –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ –∫–∞—Ç–∞–ª–æ–≥ "application_logs/".
  - local_name_prefix: "app_logs_"
    remote_path: "application_logs/"
```
